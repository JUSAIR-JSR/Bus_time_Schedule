{% extends 'blank_layout.html' %}
{% block content %}

<body class="bg-gray-100">
    <div class="container mx-auto px-4 py-8">
        <h1 class="text-3xl font-bold mb-6 text-center">Bus Information</h1>
        <div class="flex justify-end mb-4">
            <a href="{% url 'create' %}" class="btn btn-primary bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded flex items-center">
                <i class="fas fa-plus mr-2"></i> Create New Bus
            </a>
        </div>
        <div class="overflow-x-auto">
            <table id="bus-table" class="min-w-full bg-white rounded-lg shadow-md">
                <thead class="bg-gray-200 text-gray-600 uppercase text-sm leading-normal">
                    <tr>
                        <th class="py-3 px-6 text-left">Bus Name</th>
                        <th class="py-3 px-6 text-left">Bus Number</th>
                        <th class="py-3 px-6 text-left">Bus Route</th>
                        <th class="py-3 px-6 text-left">Bus Time</th>
                        <th class="py-3 px-6 text-left">Bus Owner</th>
                        <th class="py-3 px-6 text-left">Bus Image</th>
                        <th class="py-3 px-6 text-center">Edit</th>
                        <th class="py-3 px-6 text-center">Delete</th>
                    </tr>
                </thead>
                <tbody class="text-gray-600 text-sm font-light">
                    {% for Bus in Buses %}
                    <tr class="border-b border-gray-200 hover:bg-gray-100 text-xl">
                        <td class="py-3 px-6 text-left whitespace-nowrap">{{ Bus.Bus_name }}</td>
                        <td class="py-3 px-6 text-left">{{ Bus.Bus_number }}</td>
                        <td class="py-3 px-6 text-left">{{ Bus.Bus_root }}</td>
                        <td class="py-3 px-6 text-left">{{ Bus.Bus_time }}</td>
                        <td class="py-3 px-6 text-left">{{ Bus.Bus_owner }}</td>
                        <td class="py-3 px-6 text-center">
                            <img alt="Bus Image" class="rounded-lg w-20 h-20 object-contain" src="{{ Bus.Bus_image.url }}">
                        </td>
                        <td class="py-3 px-6 text-center">
                            <a href="{% url 'edit' Bus.pk %}" class="text-blue-500 hover:text-blue-700 flex justify-center items-center">
                                <i class="fas fa-edit mr-1"></i> Edit
                            </a>
                        </td>
                        <td class="py-3 px-6 text-center">
                            <a href="{% url 'delete' Bus.pk %}" class="text-red-500 hover:text-red-700 flex justify-center items-center">
                                <i class="fas fa-trash-alt mr-1"></i> Delete
                            </a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const tableRows = document.querySelectorAll('#bus-table tbody tr');

            tableRows.forEach(row => {
                row.addEventListener('click', () => {
                    alert(`You clicked on ${row.cells[0].innerText}`);
                });
            });
        });
    </script>
</body>

{% endblock content %}
